# Теоретические билеты
## 1. Понятие компьютерной сети
Компьютерная сеть - совокупность компьютеров и прочего оборудования(периферия, маршрутизаторы  и т.д.), предназначенная для передачи компьютерной информации на относительно большие расстояния за пределами самих компьютеров

Любая КС может быть рассмотрена как совокупность программной и аппаратной части.

В основе любой КС лежит сеть передачи данных (СПД) — т.е сеть передачи данных (Data Communication Network), которая задействует различные среды передачи данных (СрПД).
Иногда в составе СПД выделяют базовую (опорную) СПД.

Все устройства в составе СПД можно разделить на:
- **End devices - периметр СПД**  (персональный компьютер, ноутбук, смартфон, планшет, принтер, сервер, роутер домашней сети, IP-телефон)
- **intermediary devices - “ядро” СПД**  (роутер, коммутатор (switch), маршрутизатор (router), брандмауэр (firewall), модем, многопортовый повторитель (hub), устройство балансировки нагрузки (load balancer), прокси-сервер)

![Selection_003](https://github.com/octolera/OKS/assets/106665253/d4665785-7019-4800-a966-3c4e7855e020)

Трафик в СПД разделяют на 
- обычные компьютерные данные - data
- голос - voice
- видео - video

В нотации Cisco сети способные посылать разнородный трафик называют конвергированными (converged networks)

Особенности трафика обеспечиваются качеством обслуживания **Quality of Service (QoS)**.
Традиционные данные обслуживаются по модели best efforts - все делается для доставки пакетов, но при этом ничего не гарантируется, т.е. фактически QoS отсутствует.
QoS присутствует при работе с голосом и видео

В рамках предоставляемой оборудованием СПД **полосы пропускания (bandwith)** можно выделить:
- throughput - реально задействованная часть
- goodput - полезная составляющая throughput без учета служебного трафика

## 2. Классификация компьютерных сетей
Среди КС выделяют:

- Local Area Networks (LANs) -- локальные КС (ЛКС). `Выделяют прежде всего территориально -- в современном понимании, охватывает территорию не более кампуса, но при этом подразумевают определенные технологии`
- Wide Area Networks (WANs) -- глобальные КС (ГКС). `Выделяют прежде всего технологически и, в общем случае, может охватывать произвольную территорию`
- Metropolian Area Networks (MANs) -- городские КС (устоявшейся русскоязычной аббревиатуры нет). `Представляет собой промежуточный вариант между LAN и WAN`
- Personal Area Networks (PANs) -- личные КС (устоявшейся
аббревиатуры нет). `Позволяет подключить к компьютеру периферийные устройства`
- Remote Access Services (RASes) -- КС для подключения удаленных пользователей (teleworkers) (так же устоявшейся аббревиатуры нет). `RAS существует в контексте WAN`
- Industrial Networks -- промышленные КС.
- Datacenter Networks -- КС центров обработки данных.
    
    `Industrial и Datacenter Networks являются специализированными
    вариантами LAN`
    

Также выделяют:

- Intranets - внутреннние КС организаций и предприятий. `Обычно выделяют по ведомственной принадлежности пользователей.`
- Internets - КС публичного доступа. `Практически все Internets сейчас интегрированы в одну сборную
одноименную сеть.`

`Intranet почти всегда имеет связь с Internet`

Сети могут быть:
- isolated (изолированными)
- open (открытыми для прослушивания)

С точки зрения организации сети могут быть:
- сильносвязанными
- слабосвязанными

**Сильносвязанная** КС предполагает наличие наличие **хост-ЭВМ (host)** с одной стороны и **терминала (terminal)** -- с другой. Хост является основным вычислительным компонентом. Под терминалами подразумевают исключительно устройства для ввода и отображения информации, следовательно, они без хоста бесполезны. 

Совокупность хоста и подключенных к нему терминалов принято называть **рабочей станцией (workstation)**. 
Терминал администратора, обычно подключаемый особым образом, называют **консолью (console)**.

`Мы имеем дело с хост-терминальной моделью`

**Слабосвязанная** КС предполагает наличие **сервера (server)** с одной стороны и **клиента (client)** -- с другой.

Клиентские ЭВМ, обслуживающие запросы пользователей, являются **активными компонентами**.

Сервер либо серверы, являющиеся пассивными компонентами, в свою
очередь, обслуживают запросы клиентов. Как клиенты, так и серверы могут работать независимо, связываясь по
мере надобности.

`Мы имеем дело с клиент-серверной моделью`

Технически не входит в состав билета, но было в материале:
```
С точки зрения общей организации работы сетевых устройств, в первую очередь касательно WANs и RASes, принято
выделять два типа оборудования:
  1. Оконечное оборудование данных (ООД) -- Data Terminal Equipment (DTE).
  2. Аппаратура передачи данных (АПД) -- Data Communication Equipment или, по-другому, Data Circuit-terminating
Equipment (DCE).

Термины происходят из традиционной телефонии.

ООД находится на самой границе СПД и «концентрирует», то есть создает и потребляет передаваемые информационные
потоки.
АПД находится в пределах СПД и «транслирует», то есть позволяет передавать и принимать информационные потоки.
Разница заключается и в синхронизации передаваемых потоков.
Первоисточником синхронизации обычно является АПД.
Понятие ООД хорошо соотносится с понятием оконечных устройств, а понятие АПД хорошо соотносится с понятием устройств-
посредников. Но, поскольку, термины ООД и АПД связаны с определенными технологиями, а задействующие эти технологии
устройства часто встречаются в самых разных частях СПД, знаки равенства ставить некорректно.
```

## 3. Стандарты компьютерных сетей
Все стандарты, в том числе в области КС, делят на:
 - Международные (например, ISO/IEC).
 - Европейские (например, EN).
   - Американские (например, ANSI/TIA/EIA).
Стандарты лишь формализуют определенные требования в той или иной предметной области.

Стандарты могут носить **предварительный (preliminary)** или **временный (interim)** характер. Могут включать **дополнения (annexes, addendums = addenda)** и **списки обнаруженных ошибок (errata)**. Могут **устаревать или замещаться другими стандартами (obsolete)**.

**Практическим (или теоретическим) воплощением** стандарта является так называемая **реализация (implementation)**.

**Сертификация (certification)** позволяет определить факт соответствия стандарту.
В 1980 г. при IEEE был создан специальный комитет по стандартизации КС, результатом работы которого стало множество стандартов `802.x`

Сейчас наибольший интерес представляют:
- `802.3` -- Ethernet.
- `802.11` -- Wi-Fi.
- `802.16` -- WiMax.
  
Стандарты Ethernet по пропускной способности делят на три группы:
- Ethernet -- до 10 Mbit/s включительно.
- Fast Ethernet -- 100 Mbit/s.
- Gigabit Ethernet -- 1, 10, 100, 40, 25 Gbit/s и Multigigabit.

Повсеместное внедрение ЛКС привело к необходимости их интеграции в инфраструктуру зданий и сооружений.

**Структурированная кабельная система (СКС) -- Structured Cabling System (SCS)** -- представляет собой упорядоченную гетерогенную коммуникационную подсистему зданий и сооружений.

Выделяют следующие стадии работ, связанных с СКС, для каждой из которых предусмотрен собственный набор стандартов:
- Проектирование.
- Монтаж.
- Эксплуатация.
  
## 4. Наиболее распространенные модели компьютерных сетей
Из всех моделей КС основной является **открытая модель взаимодействия систем - Open System Interconnection (OSI)**, разработана ISO.

Модель включает в себя 7 уровней:

![Selection_004](https://github.com/octolera/OKS/assets/106665253/2b0ec63f-345d-470d-8dae-1b9f1a4c042a)

`На вершине иерархии находится человек.`
`Абонентами КС являются взаимодействующие программы`

## 5. Физический уровень модели OSI
На физическом уровне формализуют подключение сетевого устройства к СрПД. **Соответственно в пространстве физический уровень охватывает «точку» подключения.**
Специфическими понятиями физического уровня являются:
- среда;
- разъем (физический порт);
- несущая (частота);
- модуляция;
- сигнал.

Фундаментальная задача физического уровня заключается в **передаче сигнала**.

## 6. Канальный уровень модели OSI
На канальном уровне (datalink) формализуется **взаимодействие станций в пределе сегмента**.

**Станция или узел (node)** - любое устройство, способное передавать или принимать сетевой трафик - пк, сервер, маршрутизатор и т.д.
Физически любая КС состоит из **сегментов** - множества станций обьединенных посредством одной СрПД и "видящих" друг друга непосредственно. Технологическая реализация сегментов может отличаться.

В традиционном понимании СрПД соответствует **физическому соединению (link)**. Однако многие современные технологии предполагают наличие в СрПД "прозрачных" устройств- посредников (преобразователей и коммутаторов).

Специфическими понятиями канального уровня являются:
- сегмент сети
- физическая и логическая топология сегмента
- пакет (кадр)
- бит- и байт-стаффинг
- адресация в пределах сегмента
- канальный код
- код проверки целостности пакета (кадра)
- алгоритм доступа к моноканалу

Каждый из уровней модели OSI может быть реализован достаточно сложно, но канальный уровень особенно сложен. Поэтому его разделяют на два подуровня:
- **MAC (Media Access Control)** -- контроль доступа к СрПД.
- **LLC (Logical Link Control)** -- контроль логического соединения.

**На подуровне MAC, более низком,** выполняется взаимодействие с физическим уровнем, то есть средозависимые операции, такие как формирование и распознавание пакетов, адресация, канальное кодирование и другие.

**На подуровне LLC, более высоком,** выполняется взаимодействие с сетевым уровнем, то есть средонезависимые операции, такие как разбиение данных на пакеты, сборка данных из пакетов, определение соответствующей подсистемы сетевого уровня и другие.
  
## 7. Сетевой уровень модели OSI
`Сетевой уровень позволяет «выйти» за пределы сегмента.`

### На сетевом (network) 
уровне формализуют построение полноценной КС произвольного масштаба, охватывающей произвольное количество сегментов.

Специфическими понятиями сетевого уровня являются:
- пакет (собственно пакет)
- адресация в пределах всей КС
- маршрутизация.

## 8. Транспортный и сеансовый уровни модели OSI
**Транспортный уровень** позволяет перейти от оборудования к программам. На **транспортном (transport)** уровне формализуют использование программным обеспечением сетевого оборудования, то есть как отдельно взятым программам предоставляется «транспорт».

Специфическими понятиями транспортного уровня являются:
- пакет (сегмент сообщения)
- программный порт
- логическое соединение
- надежность доставки
- алгоритм борьбы с заторами в СПД.

### Сеансовый или сессионный (session) 
уровень позволяет предоставить доступ к транспорту всем программам в многозадачном окружении.

Кроме собственно сессии, имеются еще два основных специфических понятия сеансового уровня:
- программный порт
- алгоритм мультиплексирования программ.

В практических реализациях сеансовый уровень выражен слабо и обычно совмещается с транспортным.

## 9. Прикладной уровень и уровень представления модели OSI
### Прикладной (application)
уровень призван решать конкретные пользовательские задачи с помощью КС.

Примерами прикладных задач могут служить:
- пересылка файлов между компьютерами
- пересылка электронных писем
- поддержка удаленных текстовых и графических терминалов, в том числе для администрирования
- пересылка мультимедийных документов
- обмен «мгновенными» сообщениями
- совместная разработка чего-либо
и другие.

Плюс, выделяемые особо, как несвойственные традиционным компьютерным сетям, задачи пересылки голоса и видео в реальном времени. `При этом, QoS «возникает» и на всех нижестоящих уровнях`. 

Специфических понятий прикладного уровня великое множество и они зависят от решаемых задач.

### Уровень представления (presentation) 
позволяет адаптировать прикладную информацию в форму, приемлемую для передачи по КС, то есть является прослойкой между программами и транспортом

Основными задачами уровня представления являются:
- кодирование информации (включая возможное сжатие) с целью обеспечения ее правильной интерпретации в последующем;\
- шифрование информации с целью обеспечения ее защиты при пересылке по открытым для прослушивания сетям
  
`Поскольку обычно уровень представления «привязан» к прикладному уровню, в реализациях эти уровни часто совмещаются`.

Взаимодействие в рамках модели OSI может быть «вертикальным» и «горизонтальным»:
- **Интерфейс (interface)** -- это правила взаимодействия между пространственно совмещенными соседними уровнями модели OSI.
- **Протокол (protocol)** -- правила взаимодействия между пространственно разнесенными одинаковыми уровнями модели OSI.
И в том, и в другом случае предполагают определенную абстракцию.

## 10. Семейство протоколов TCP/IP
Исторически сложились два основных семейства протоколов:
- TCP/IP.
- IPX/SPX.

В настоящее время TCP/IP полностью доминирует. IPX/SPX почти не используют

![Selection_005](https://github.com/octolera/OKS/assets/106665253/a0cb5c54-5837-480d-b881-6a9a4413f466)

`Семейство протоколов TCP/IP описано в стандартах RFC (Request For
Comments)`.

С семейством протоколов TCP/IP связана одноименная модель. Cопоставление с моделью OSI:

![Selection_006](https://github.com/octolera/OKS/assets/106665253/335c673f-8fca-4df3-94bf-e33c3cbd7a47)

## 11. Эволюция COM-портов и их место в современных устройствах
История развития **последовательного (serial)** или, по-другому, **коммуникационного (COMmunication)** порта неразрывно связана с развитием элементной базы.

Применительно к ПК разработчиком как базовой архитектуры так и типовых схем оборудования являлась и до сих пор является компания Intel.

В развитии COM-порта ПК можно выделить следующие основные этапы (следует отметить, что этот процесс сильно коррелирует с развитием COM-портов всех типов компьютерных систем):

- В свое время (семидесятые годы XX века), в составе периферийной части комплекта микросхем поддержки микропроцессора 8080, компания Intel разработала два контроллера последовательного порта. Один из них, `8250`, получил название `UART (Universal Asynchronous Receiver/Transmitter)` - универсальный асинхронный приемник-передатчик.

- Второй, `8251`, получил название `USART (Universal Synchronous/Asynchronous Receiver/Transmitter)` - универсальный синхронно-асинхронный приемник-передатчик.

Эти контроллеры были рассчитаны на подключение по шине X-Bus (шина ввода-вывода, внутрисхемный восьмибитный предшественник системной шины ISA) и поэтому без труда были перенесены в первые ПК на базе процессора 8086 и его модификаций (то есть компьютеры класса IBM PC XT) с тогда наиболее распространенной системной шиной ISA.

Совместно с контроллером параллельного порта `8255`, микросхема `UART` либо `USART` устанавливалась на плату специального адаптера и подключались к материнской плате ПК посредством разъема системной шины.

В это же время возникла традиция устанавливать последовательные порты парами (COM1 и COM2).

### Времена доминирования процессоров 80286 -- Intel486 (то есть компьютеры класса IBM PC AT и IBM PS/2) ознаменованы постепенно набравшими силу интеграционными процессами.

На первом этапе происходило распространение и развитие самих контроллеров.

В СССР был создан аналог 8251 под названием `КР580ВВ51А`, который и стал массово применяться в серии ЕС ПК.

На Западе же, наоборот, развитие получила микросхема `8250`.

Апофеозом достаточно быстрого усовершенствования `8250` стали несколько UART, среди которых следует выделить `16550`, причем это была разработка уже не Intel, а National Semiconductor. Именно эта микросхема стала де факто стандартной на длительное время (архитектурная совместимость сохраняется вплоть до настоящего времени). `16550` имеет два основных преимущества перед `8250`: 
- более высокая пропускная способность последовательного интерфейса (максимальная стандартная пропускная способность увеличена с 9600 baud до 115200 baud)
- возможность буферизации (две очереди FIFO по 16 байт -- на стороне передатчика и на стороне приемника).

В дальнейшем интеграционные процессы привели к появлению так называемых `мультикарт` -- подключаемых посредством разъема системной шины (по-прежнему обычно ISA) плат расширения с интегрированными контроллерами: последовательного порта (2x16550), параллельного порта, игрового порта, НГМД и НЖМД. Причем все **эти функции сочетались в одной
БИС с типичным названием Multi I/O**. 

Основными производителями чипов Multi I/O были компании Winbond, UMC, GoldStar и другие.

`Для ПК на базе поздних Intel486 уже была характерна интеграция чипа Multi I/O на материнскую плату`.

### Во времена процессоров Pentium сформировалась действительная до сих пор базовая крупноблочная структура материнской платы ПК, состоящая из четырех основных БИС

![Selection_007](https://github.com/octolera/OKS/assets/106665253/bdd163c2-4ef4-4fc7-a0fa-782ada44a671)

Контроллеры последовательного порта (по той же схеме 2x16550) в составе интегрированной периферии были перенесены и в эту структуру.

После перехода от `мостовой (bridges)` организации ПК к `хабовой (hubs)` в рамках данной структуры (начиная с восьмисотой серии чипсетов Intel в эпоху Pentium III) `для внутрисхемного подключения Super I/O вместо шины X-Bus
стала использоваться шина LPC (Low Pin Count)` -- специализированная разновидность шины PCI с небольшим числом разрядов.

```
В настоящее время (приблизительно с 2005 года) традиционный последовательный интерфейс ПК считают устаревшим (legacy), часто исключают из состава интегрированной периферии -- на материнских платах можно увидеть все реже.

Сейчас в качестве основного последовательного интерфейса ПК
рассматривают шину USB (Universal Serial Bus), впервые введенную в состав
ПК еще в эпоху процессоров Pentium.
```
## 12. Структура COM-порта
Сам факт передачи информации подразумевает наличие передатчика, приемника и канала, по которому они связаны. Как и следует из названия, UART 16550 сочетает в себе функции как приемника, так и передатчика. 

Предоставлена возможность подключения к двунаправленному каналу связи в соответствии со стандартом RS-232. На аппаратном уровне приемник и передатчик работают **параллельно**, то есть **по отдельным физическим цепям полностью независимо друг от друга**.

Структурная схема UART 16550.

![Selection_008](https://github.com/octolera/OKS/assets/106665253/173ee55e-ed02-43b6-af1e-be508245a20b)

Интерфейс RS-232 (традиционное название, последнюю редакцию 1997 года правильно называть TIA-232-F, существуют и другие названия) предназначен для подключения АПД (например, модема) к ООД (например, UART).Для физического подключения по стандарту RS-232 используют девятиконтактные разъемы D Subminiature (D-sub) DE-9. В старых ПК класса IBM PC использовали и аналогичные двадцатипятиконтактные разъемы DB-25.

Принято, что штырьевую часть разъема устанавливают со стороны ООД, а гнездовую часть -- со стороны АПД.

Согласно PC System Design Guide, с 1999г. разьёмы последовательных портов окрашивают в бирюзовый цвет.

## 13. Цепи RS-232 и их использование
### Традиционное назначение цифровых цепей RS-232
- `SOUT` (Serial Output) -- выход передатчика;
- `SIN` (Serial Input) -- вход приемника;
- `RTS` (Request to Send) -- сигнал-запрос от UART к модему о передаче байта;
- `CTS` (Clear to Send) -- сигнал-подтверждение от модема к UART о готовности принять байт для передачи;
- `DSR` (Data Set Ready) -- сигнал от модема к UART о готовности к взаимодействию;
- `DTR` (Data Terminal Ready) -- сигнал от UART к модему о готовности к взаимодействию;
- `DCD` (Data Carrier Detect) -- сигнал от модема к UART об обнаружении данных;
- `RI` (Ring Indicator) -- сигнал от модема к UART об обнаружении входящего телефонного звонка.

Служебные цепи RS-232 позволяют организовать `контроль информационного потока (flow control)`. Например, это позволяет избегать переполнения приемника, приостанавливая «быстрый» передатчик. Следует отметить, что практически все служебные цепи напрямую связаны с соответствующими регистрами управления и состояния UART 16550, то есть «открыты» для программирования. Следовательно, алгоритмы контроля реализуют программно и закладывают, например, в драйверы операционных систем. Контроль может быть как полуаппаратным (с задействованием сигналов RS-232), так и сугубо программным. 

Очевидно, что традиционное использование пары `RTS/CTS` позволяет контролировать передачу только в одном направлении -- `от UART к модему`. Для контроля передачи `в обратном направлении` использовалась пара `DSR/DTR`.

В большинстве современных реализаций контроль по прежнему предполагает наличие обратной связи, но осуществляется только приемником. Два основных метода:
- `RTS/CTS` -- полуаппаратный.
- `XON/XOFF` -- программный.
UART контролирует передачу данных «к себе» управляя активностью цепи `RTS`, модем -- `CTS`.
Значительно реже применяют метод `DTR/DSR` -- полностью аналогичен  методу `RTS/CTS`, но значения сигналов сохраняются на протяжении всего информационного обмена, а не каждой посылки.

При полностью программном контроле, приемник передает в обратном направлении специальный байт `XON` (стандартное значение 11h) для инициирования передачи и специальный байт `XOFF` (стандартное значение 13h) для остановки передачи.

В стандартной ситуации, **ООД взаимодействуют между собой посредством АПД**, причем с помощью так называемых «рукопожатий» (handshaking) с АПД. При этом подключение АПД к ООД осуществляют `посредством «прямого» кабеля (straight-through cable)`.
Для подключения **двух ООД друг к другу** непосредственно необходим один из вариантов `нуль-модемного (null-modem, поскольку предполагают отсутствие модема) кросс-кабеля (crossover cable, поскольку цепи SIN и SOUT скрещивают)`.

`Для изготовления кросс-кабеля нужны минимум три провода.`

![Selection_009](https://github.com/octolera/OKS/assets/106665253/374159dc-c575-490a-b0bd-ccfce22d5ae0)

```
Иногда программное обеспечение рассчитано только на использование модемов. В подобных ситуациях, для непосредственного подключения двух ООД необходимо «закоротить» соответствующие пары сигналов.

Часто в литературе приводят еще одну схему нуль-модемного кабеля, в соответствии с которой роль модема играет ООД-абонент.

При этом нужно иметь в виду, что в информационных системах принято все «мерить» относительно человека, в том числе и ввод-вывод. Таким образом, в ПК направление определяется «с точки зрения» центрального процессора, а в данном случае -- «с точки зрения» ООД.
```
## 14. Асинхронный режим работы COM-порта
**Асинхронный (asynchronous)** -- синхронизируется посылка каждого информационного байта.

![Selection_010](https://github.com/octolera/OKS/assets/106665253/c27b2dd3-4eef-470c-ab41-da0329075f7a)

**Атомарной, то есть минимальной неделимой единицей**, с которой работает как UART, так и USART, является байт, причем один байт не обязательно равен восьми битам и может содержать от `5` до `8` битов. 

По умолчанию линия находится в состоянии логической единицы.
При наличии байта для передачи передатчик переводит линию в состояние логического нуля, то есть передает старт-бит, что говорит приемнику о том, что на следующем такте нужно «ловить» первый информационный бит.
`Стоп-бит` необходим для того, чтобы после передачи информационной последовательности гарантированно вернуть линию в исходное, то есть единичное состояние.
`Старт-бит` всегда **один**, а стоп-битов может быть **один, полтора либо два**.

Для проверки целостности информационной части, **если эта проверка включена**, за информационной частью вставляется `бит паритета`. При этом действует правило дополнения. Например, если включена проверка единиц на четность (even), то бит паритета формируется таким образом, чтобы общее число единиц (в информационной части плюс бит паритета) было четным. Либо, если включена проверка нулей на нечетность (odd), то общее количество нулей должно быть нечетным. 

Ошибки отслеживаются приемником.

## 15. Синхронный режим работы COM-порта
**Синхронный (synchronous)** -- синхронизируется весь информационный
обмен.

![Selection_011](https://github.com/octolera/OKS/assets/106665253/f02bede9-8ae9-482a-a38f-c4867905643c)

При «простое» передатчик заполняет линию специальными `байтами синхронизации`, тем самым настраивая приемник.

`Все поступающие байты передаются без «обрамления».`

Как и в асинхронном режиме, ошибки отслеживаются приемником. При обнаружении ошибок, а при длительной непрерывной передаче из-за накапливающихся фазовых сдвигов они неизбежно возникают, приемник должен каким-либо дополнительным способом (так как текущую линию задействовать невозможно) приостановить передатчик, чтобы канал вновь заполнился байтами синхронизации.

## 16. Тактирование COM-порта
По своей сути, передатчик и приемник COM-порта представляют собой `программируемые сдвиговые регистры`.

Данные, предварительно записанные в регистр передатчика параллельно, затем последовательно сдвигаются в канал под воздействием тактовых импульсов. В процессе работы UART 16550 тактирование сдвиговых регистров осуществляется непрерывно. Следовательно, данные начинают поступать в канал сразу после их записи в регистр передатчика. 

Заполнение регистра приемника так же происходит «автоматически». Если передаваемые байты записываются слишком быстро, то возникает переполнение очереди FIFO передатчика. Если принимаемые байты считываются слишком медленно, то после переполнение очереди FIFO приемника происходит их потеря.

Тактирование сдвиговых регистров UART 16550 осуществляется с помощью встроенного программируемого `бод-генератора (baud generator)` (тактирование некоторых первых реализаций UART осуществлялось таймером).
Бод-генератор представляет собой **программируемый делитель частоты**.

Выходная частота `бод-генератора Fout` определяется по формуле:
    
    `Fout = Fin / (16 DL)` 
    
где:
    
    `Fin` -- входная частота,
    
    `DL` -- шестнадцатибитная константа, старшая и младшая части которой хранятся в двух регистрах UART (DLL и DLM).

На вход бод-генератора **поступает меандр, получаемый от внешнего кварцевого резонатора**, который тактирует и сам автомат UART. Частота тактирования автомата UART **по крайней мере в 16 раз больше** `Fout`. 

Следует учитывать, что, для того чтобы правильно рассчитать `DL`, необходимо точно знать `Fin`.

Вполне естественно, что на разных материнских платах используют разные микросхемы и разные кварцевые резонаторы. Применительно к современным Super I/O, эта частота может достигать 48 MHz, то есть
совпадать с частотой синхронизации Super I/O. Но, за счет **еще одного деления частоты** (при загрузке ПК BIOS конфигурирует UART инициализируя соответствующие регистры конфигурационного пространства Super I/O), как правило, `Fin` приводится к классическому значению 1,843 MHz.

При этом, если `DL` = 1 (нулевое значение `DL` использовать крайне не рекомендуется), то `Fout` = 115200 Hz.2.0.2.14

Пропускную способность последовательных каналов связи принято оценивать в бодах.

`Один бод (baud) равен одному сигналу в секунду.`

В случае с UART 16550 производительность, измеренная в бодах, совпадает с производительностью, измеренной в битах в секунду (bit/s равно bps). 

## 17. Архитектура COM-порта

`UART 16550`, как и вся БИС Super I/O, как и любая БИС на материнской плате, является **низковольтной**. Но в интерфейсе `RS-232` значения логических уровней совершенно другие, **значительно более «разнесенные»**, что позволяет передавать данные на расстояние до нескольких десятков метров. 

Для получения необходимых значений используют специализированные преобразователи уровней `75232` (аналоги: 75185, 6571 и другие).

Преобразователь уровней `75232` фактически играет роль `трансивера (transceiver, transmitter плюс receiver)`, сочетая функции приемника и передатчика в интерфейсе с определенной физической средой, которой в данном случае является `RS-232`).

![Selection_012](https://github.com/octolera/OKS/assets/106665253/344f07fe-9559-43e7-acbf-1226f0022125)

```
В больших ЭВМ производства второй половины прошлого века для подключения терминалов применялись другие трансиверы -- трансиверы токовой петли (current loop), которые не «разносят» уровни напряжений, а моделируют токовые посылки, что позволяет увеличить расстояние передачи.

Возможность использования токовой петли в ПК была отвергнута изначально.
```

Как и любое устройство ввода-вывода, `UART 16550` содержит регистры управления, регистры состояния, плюс информационные регистры. В стандартной архитектуре ПК для `СOM1` и `COM2` зарезервированы следующие диапазоны программных портов в адресном пространстве ввода-вывода процессора: 

3F8h -- 3FFh и 2F8h -- 2FFh соответственно (но возможности Super I/O позволяют сконфигурировать UART 16550 нестандартно).

Регистры UART 16550 отображаются в соответствующий диапазон следующим образом. Отображение частично зависит от значения `Divisor Latch Access Bit (DLAB)` -- самого старшего (седьмого) бита регистра `LCR`.

Прикладная программа должна в первую очередь корректно **инициализировать соответствующие регистры** `UART`. При этом предоставлена возможность работы по прерываниям. Стандартными аппаратными прерываниями `COM1` и `COM2` являются `IRQ4` и `IRQ3` соответственно (также можно изменить)


![Selection_013](https://github.com/octolera/OKS/assets/106665253/18ce86b5-40b4-450e-b5fd-f7ef71183946)

Назначение регистров:
- `THR (Transmit Holding Register)` -- регистр данных передатчика (точнее буферный регистр сдвигового регистра передатчика).
- `RBR (Receiver Buffer Register)` -- регистр данных приемника (точнее буферный регистр сдвигового регистра приемника).
- `DLL (Divisor Latch Least significant byte)` -- младшая часть константы деления бод-генератора.
- `DLM (Divisor Latch Most significant byte)` -- старшая часть константы деления бод-генератора.
- `IER (Interrupt Enable Register)` -- регистр разрешения прерываний.

    ![Selection_021](https://github.com/octolera/OKS/assets/106665253/5571b72a-081f-47da-911a-dd5421597904)

- `IIR (Interrupt Identification Register)` -- регистр идентификации прерываний.

    ![Selection_019](https://github.com/octolera/OKS/assets/106665253/b9997673-8c2f-4ad1-83c2-68a1d7e34cc9)

  Прерывания UART 16550
  
    ![Selection_020](https://github.com/octolera/OKS/assets/106665253/3decd2b9-5bb6-49d3-90fe-1a182966b8e3)

- `FCR (FIFO Control Register)` -- регистр управления очередями FIFO передатчика и приемника.

    ![Selection_018](https://github.com/octolera/OKS/assets/106665253/fb26cb26-9f13-4575-a7ed-60d63d347205)

- `LCR (Line Control Register)` -- регистр управления линией.

    ![Selection_017](https://github.com/octolera/OKS/assets/106665253/e59110aa-464b-410a-a829-a1b0a7309662)

Включение «залипания» `бита паритета (sticky parity)` приводит к передаче соответствующего константного значения. Включение паузы приводит к приостановке передатчика. При этом передатчик удерживает линию в состоянии логического нуля длительное время, что автоматически переводит в режим паузы и приемник (без уведомления об ошибках).

- `MCR (Modem Control Register)` -- регистр управления модемом.

    ![Selection_016](https://github.com/octolera/OKS/assets/106665253/a3fcde1b-c8ba-4d37-aa1a-d05182553efc)

Включение `loopback-режима` приводит к «закорачиванию» выхода передатчика и входа приемника, что может применяться с целью тестирования `UART`.

- `LSR (Line Status Register)` -- регистр состояния линии.

    ![Selection_015](https://github.com/octolera/OKS/assets/106665253/62e473a2-4cd7-4fc9-8ae0-1013ef52d840)

После считывания очередных данных из приемника нулевой бит `LSR` обнуляется.
После записи очередных данных в передатчик обнуляются пятый и шестой биты `LSR`.
Остальные биты обнуляются после чтения `LSR`.

- `MSR (Modem Status Register)` -- регистр состояния модема.

    ![Selection_014](https://github.com/octolera/OKS/assets/106665253/82703db1-bf1c-462b-92cc-850b59f29a02)

- `SCR (Scratch Pad Register)` -- дополнительный регистр для временного хранения данных, не связанный с функционированием UART.

## 18. Стандарты, близкие к RS-232
С точки зрения топологии, интерфейс `RS-232` обладает одним существенным ограничением, которое закономерно вытекает из его природы.

Он изначально задумывался как интерфейс между разноранговыми устройствами, то есть, по сути дела, как интерфейс для подключения периферийных устройств к компьютеру. **Более двух устройств с помощью RS-232 объединить невозможно**.

В результате, закономерным продолжением стандарта `RS-232` стали два стандарта: `RS-422 (EIA-422-B)` и `RS-485 (EIA-485)`. При этом `RS-422` можно рассматривать как промежуточный на пути к `RS-485` стандарт.

![Selection_022](https://github.com/octolera/OKS/assets/106665253/f8e89950-b4fc-4e46-a40f-ed09c837a1ca)

Для передачи данных посредством интерфейса `RS-485` требуются специальные **трансиверы с гальванической развязкой**, позволяющие реализовать дифференциальный способ передачи сигнала.
**Гальваническая развязка** может быть либо **трансформаторной**, либо **оптронной**.
О СрПД в стандарте не сказано, но, как правило, используют `витую пару (twisted pair)` и разъемы типа `RJ`.

## 19. Структура типового пакета компьютерной сети
## 20. Инкапсуляция и ее проявления в компьютерных сетях
## 21. Бит-стаффинг
## 22. Байт-стаффинг
## 23. Особенности линейного кодирования и классификация линейных кодов, применяемых в компьютерных сетях
## 24. Линейные коды без возврата к нулю и с возвратом к нулю
## 25. Манчестерские и многоуровневые линейные коды
## 26. Блочные линейные коды
## 27. Поля Галуа и их применение в компьютерных сетях
## 28. Модель помехоустойчивого канала связи и теорема Шеннона
## 29. Линейные помехоустойчивые коды, включая коды Хэмминга и циклические коды
## 30. Классификация помехоустойчивых кодов
## 31. Классификация каналов в сети передачи данных
## 32. Логические и физические топологии LAN
## 33. Логические и физические топологии WAN и RAS
## 34. Особенности случайных методов доступа к моноканалу
## 35. CSMA/CD (Ethernet)
## 36. Кадр Ethernet
## 37. CSMA/CA (Wi-Fi)
## 38. Кадры Wi-Fi
## 39. Особенности детерминированных методов доступа к моноканалу
## 40. Алгоритм Token Ring
## 41. Реализации детерминированных методов доступа к моноканалу
## 42. Адресация в компьютерных сетях и классификация адресов
## 43. MAC-адреса
## 44. Заголовок IPv4
## 45. Заголовок IPv6
## 46. Протокол ARP
## 47. Структура системы DNS
## 48. Сообщения DNS
## 49. Виртуальные соединения в сети передачи данных
## 50. Классификация оконных механизмов, используемых в сети передачи данных
## 51. Структура системы TCP
## 52. Заголовок TCP
## 53. Протокол TCP
## 54. Усовершенствования протокола TCP
## 55. Протокол UDP и заголовок UDP
## 56. Классификация и характеристики сред передачи данных
## 57. Среды передачи данных на основе коаксиальных кабелей
## 58. Среды передачи данных на основе витых пар
## 59. Среды передачи данных на основе оптоволоконных кабелей
## 60. Физический уровень Ethernet
## 61. Структурированные кабельные системы и их модели
## 62. Питание и заземление в структурированных кабельных системах
## 63. Пожарная безопасность структурированных кабельных систем
## 64. Технология PoE
# Практические (задания) 
## 65. Структура системы FTP
## 66. Протокол FTP и режимы обмена по протоколу FTP
## 67. Структура и особенности системы Telnet
## 68. Электронные письма и почтовые ящики
## 69. Обобщенная структура системы электронной почты
## 70. Почтовые агенты
## 71. Протокол SMTP и его расширения
## 72. Протокол POP3 и его расширения
## 73. Протокол IMAP и его расширения
## 74. Структура системы HTTP
## 75. Ресурсы в системе HTTP
## 76. Заголовки HTTP
